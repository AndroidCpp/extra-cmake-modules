/* This file is generated by ECM_CREATE_QM_FROM_PO_FILES. Do not modify!
 *
 * Building this file in a library ensures translations are automatically loaded
 * when an application makes use of the library.
 */
#include <QCoreApplication>
#include <QLocale>
#include <QStandardPaths>
#include <QTranslator>

#include <QDebug>

static QTranslator *createTranslator(const QString &localeDirName)
{
    QString subPath = QStringLiteral("locale/") + localeDirName + QStringLiteral("/LC_MESSAGES/@catalog_name@.qm");
    QString fullPath = QStandardPaths::locate(QStandardPaths::GenericDataLocation, subPath);
    if (fullPath.isEmpty()) {
        return 0;
    }
    QTranslator *translator = new QTranslator(QCoreApplication::instance());
    if (!translator->load(fullPath)) {
        delete translator;
        return 0;
    }
    return translator;
}

static void load()
{
    QLocale locale = QLocale::system();
    QTranslator *translator = createTranslator(locale.name());
    if (!translator) {
        translator = createTranslator(locale.bcp47Name());
        if (!translator) {
            return;
        }
    }
    QCoreApplication::instance()->installTranslator(translator);
}

Q_COREAPP_STARTUP_FUNCTION(load)
